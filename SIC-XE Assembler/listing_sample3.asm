Line	Address	Label	OPCODE	OPERAND	ObjectCode	Comment
5	. This code has CSECT so gives the appropriate errors in error_sample_program2
10	00000	0	COPY	START	0		
15	00000	0		EXTDEF	BUFFER,BUFEND,LENGTH		
20	00000	0		EXTREF	RDREC,WRREC		
25	00000	0	FIRST	STL	RETADR	172027	
30	00003	0	CLOOP	+JSUB	RDREC	4B101033	
35	00007	0		LDA	LENGTH	032023	
40	0000A	0		COMP	#0	290000	
45	0000D	0		JEQ	ENDFIL	332007	
50	00010	0		+JSUB	WRREC	4B100000	
55	00014	0		J	CLOOP	3F2FEC	
60	00017	0	ENDFIL	LDA	=C'EOF'	032016	
65	0001A	0		STA	BUFFER	0F2016	
70	0001D	0		LDA	#3	010003	
75	00020	0		STA	LENGTH	0F200A	
80	00023	0		+JSUB	WRREC	4B100000	
85	00027	0		J	@RETADR	3E2000	
90	0002A	0	RETADR	RESW	1		
95	0002D	0	LENGTH	RESW	1		
100	00030	0		LTORG	 		
105	00030	0	*	=C'EOF'	 	454F46	 
110	00033	0	BUFFER	RESB	4096		
115	01033	0	BUFFEND	EQU	*		
120	01000	 	MAXLEN	EQU	BUFFEND-BUFFER		
125	01033	0	RDREC	CSECT	BUFFEND-BUFFER		
130	.
135	.       SUBROUTINE TO READ RECORD INFO BUFFER
140	.	 
145	01033	0		EXTREF	BUFFER,LENGTH,BUFEND		
150	01033	0		CLEAR	X	B410	
155	01035	0		CLEAR	A	B400	
160	01037	0		CLEAR	S	B440	
165	01039	0		LDT	MAXLEN	772FC4	
170	0103C	0	RLOOP	TD	INPUT	E3201B	
175	0103F	0		JEQ	RLOOP	332FFA	
180	01042	0		RD	INPUT	DB2015	
185	01045	0		COMPR	A,S	A004	
190	01047	0		JEQ	EXIT	332009	
195	0104A	0		+STCH	BUFFER,X	57900033	
200	0104E	0		TIXR	T	B850	
205	01050	0		JLT	RLOOP	3B2FE9	
210	01053	0	EXIT	+STX	LENGTH	1310002D	
215	01057	0		RSUB	 	4F0000	
220	0105A	0	INPUT	BYTE	X'F1'	F1	
